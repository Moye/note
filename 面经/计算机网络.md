# 计算机网络面试题

[TOC]

##应用层

###1.常见的http返回状态码

2XX：成功

> 200 OK：请求成功，信息包含在返回的响应报文中

3XX：重定向

> 301 Moved Permanently：请求的对象已经被永久转移了，新的URL定义在响应报文的Location首部中。客户机软件自动更新用新的URL获取对象。

4XX：客户端错误

> 400 Bad Request：请求不能被服务器理解
>
> 403 Forbidden：服务器收到请求，但是拒绝提供服务。服务器通常会在响应报文中给出不提供服务的原因
>
> 404 Not Found：请求的文档不在服务器上

5XX：服务器错误

> 505 HTTP Version Not Supported：服务器不支持请求报文使用的HTTP协议版本

### 2.cookie和session的区别

####为什么使用cookie

HTTP协议是无状态的，无状态是指每次request请求之前是相互独立的，当前请求不会记录它的上一次请求信息。这样简化了服务器的设计，并且允许工程师们去开发可以同时处理数以千计的TCP连接的高性能Web服务器。然而一个Web站点通常希望能够识别用户，可能是因为服务器希望限制用户的访问，或者因为它希望把内容与用户身份联系起来。为此，HTTP使用了cookie。

![用cookie保持用户状态](/Users/Moye/Desktop/准备秋招/note/pic/net-cookie-1.png)

cookie的内容主要包括：名字、值、过期时间、路径和域。路径与域一起构成cookie的作用范围。若不设置过期时间，则表示这个cookie的生命周期为浏览器会话期间，若关闭浏览器窗口，cookie就消失。这种生命周期为浏览器会话器的cookie被称为会话cookie。会话cookie一般不存储在硬盘上而是保存在内存里，当然这种行为并不是规则规定的。若设置了过期时间，浏览器会将cookie保存到硬盘里，关闭后再次打开浏览器，这些cookie仍然有效直至超过设定的过期时间。存储在硬盘的cookie可以再不同的浏览器进程间共享，比如两个IE窗口。而对于保存在内存里的cookie，不同的浏览器有不同的处理方式。

####session机制

session机制采用的是一种在服务端保持状态的解决方案。session针对每一个用户的，变量的值保存在服务器上，用一个sessionID来区分是哪个用户session变量，这个值是通过用户的浏览器在访问的时候返回给服务器，当用户禁用cookie时，这个值也可能设置为get来返回给服务器。

服务器使用一种类似散列表的结构来保存信息。

#### cookie与session区别

- **存取方式不同**：cookie只能保管ASCII字符串，如果需要存取Unicode字符或者二进制数据，需要先进行编码。cookie中不能直接存取Java对象。若要存储略复杂的信息，运用cookie是比较艰难的。而session中可以存取任何类型的数据，包括而不限于String、Integer、List、Map等。Session中也能够直接保管Java Bean乃至任何Java类、对象等。运用起来十分便当。能够把session看做一个Java容器类。
- **隐私策略不同**：cookie存储在客户端，对客户端是可见的，客户端的一些程序可能会窥探、复制以致修正cookie中的内容。而session存储在服务器上，对客户端是透明的，不存在敏感信息泄露的风险。假如选用cookie，比较好的方法是，敏感的信息如账号密码等尽量不要写在cookie中。最好将cookie信息加密，提交到服务器后再进行解密，保证cookie中的信息只有本人可以读得懂。而假如选择session就省事多了，反正是放在服务器上，session里任何隐私都能够有效的保护。
- **有效期上的不同**：如果需要持久地记载用户的登录信息，可以设置cookie的过期时间属性为一个很大的数字。session依赖名为JSESSIONID的cookie，而cookie JSESSION的过期时间默许为-1，只需关闭了浏览器该session就会失效，因而session不能完成信息永久有效的效果。运用URL地址重写也不能完成。而且加入设置session的超时时间过长，服务器累计的session就会越多，越容易招致内存溢出。
- **服务器压力的不同**：session是保管在服务器端的，每个用户都会产生一个session。如果并发访问的用户十分多，会消耗大量的内存。cookie保管在客户端，不占用服务器资源。
- **浏览器支持的不同**：cookie是需要客户端浏览器支持的。假如客户端禁用了cookie，或者不支持cookie，则会话跟踪会失效。这个时候只能用session和URL地址重写的方法。如果客户端支持cookie，则cookie既可以设为本浏览器窗口以及子窗口内有效（把过期时间设为-1），也可以设置为一切浏览器窗口内有效（把过期时间设置为某个大于0的整数）。但session只能在本浏览器窗口以及其子窗口内有效。假如两个浏览器窗口互不相干，它们将运用两个不同的session。
- 跨域支持上的不同：cookie支持跨域名访问。session则不支持。

参考链接：[浅谈cookie与session区别](https://my.oschina.net/leejun2005/blog/304564)

